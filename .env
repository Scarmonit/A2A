# A2A MCP Server - Optimized Ollama Configuration
# Production-ready settings with performance optimizations

# ===== OLLAMA SETTINGS =====
LOCAL_LLM_URL=http://localhost:11434
NODE_ENV=production

# Optimized models - using more efficient alternatives
DEFAULT_CODE_MODEL=codellama:7b-code-q4_K_M
DEFAULT_CHAT_MODEL=llama3.1:8b-instruct-q4_K_M
DEFAULT_CREATIVE_MODEL=llama3.1:8b-instruct-q8_0
DEFAULT_FAST_MODEL=phi3.5:3.8b-mini-instruct-q4_K_M

# ===== SERVER SETTINGS =====
PORT=8787
STREAM_PORT=8788
STREAM_HOST=127.0.0.1
METRICS_PORT=${PORT}
HEALTH_CHECK_PORT=9091

# ===== PERFORMANCE TUNING =====
# Optimized for better throughput and resource usage
MAX_CONCURRENCY=100
MAX_QUEUE_SIZE=5000
LOG_LEVEL=info
ENABLE_STREAMING=false
STREAM_BUFFER_SIZE=8192
REQUEST_TIMEOUT=30000
KEEP_ALIVE_TIMEOUT=65000

# ===== OLLAMA PERFORMANCE =====
# Hardware-optimized settings
OLLAMA_NUM_PARALLEL=4
OLLAMA_MAX_LOADED_MODELS=3
OLLAMA_FLASH_ATTENTION=1
OLLAMA_KEEP_ALIVE=5m
OLLAMA_GPU_LAYERS=35
OLLAMA_CTX_SIZE=4096

# ===== MEMORY & STORAGE =====
# Optimized memory and storage limits
MAX_EXECUTION_TIME=45000
MAX_FILE_SIZE=52428800
MAX_MEMORY_USAGE=1073741824
MEMORY_DIR=./data/agent-memory
MAX_MEMORIES_PER_AGENT=5000
MEMORY_CLEANUP_INTERVAL=3600000
TEMP_DIR=./tmp
CACHE_DIR=./cache
CACHE_TTL=86400

# ===== ANALYTICS & MONITORING =====
# Optimized event tracking and monitoring
MAX_EVENT_HISTORY=50000
ANALYTICS_CLEANUP_INTERVAL=43200000
ENABLE_METRICS=true
METRICS_INTERVAL=30000
HEALTH_CHECK_INTERVAL=10000
ERROR_TRACKING=true

# ===== SECURITY =====
# Enhanced security settings
STREAM_TOKEN=change-this-secure-token
CORS_ENABLED=true
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW=60000
RATE_LIMIT_MAX_REQUESTS=100
API_KEY_REQUIRED=false

# ===== CLUSTERING & SCALING =====
# Multi-instance support
CLUSTER_ENABLED=false
WORKER_PROCESSES=0
LOAD_BALANCER_ENABLED=false

# ===== DEPLOYMENT OPTIMIZATIONS =====
# Production deployment settings
NODE_OPTIONS=--max-old-space-size=4096 --optimize-for-size
UV_THREADPOOL_SIZE=16
ENABLE_COMPRESSION=true
GZIP_LEVEL=6
STATIC_CACHE_TTL=86400

# ===== DEVELOPMENT TOOLS =====
# Disable in production
DEBUG_MODE=false
VERBOSE_LOGGING=false
PROFILING_ENABLED=false

# ===== BACKUP & RECOVERY =====
# Data protection settings
BACKUP_ENABLED=true
BACKUP_INTERVAL=21600000
BACKUP_RETENTION_DAYS=7
AUTO_RECOVERY=true
